@import 'misc'

// Music page
.video-btn-wrapper
  text-align: center

  #old-video-toggle
    text-align: center
    margin: 1em auto
    margin-top: 1.5em
    font-size: 1em !important
    @extend %generic-btn

    @media(min-width: 700px)
      font-size: 1.5em !important

.outer-music-video-wrapper
  position: relative
  z-index: 1
  margin: 1em auto
  max-width: 60em

.music-video-wrapper
  position: relative
  text-align: center
  padding-bottom: 56.25%
  max-width: 100%

  iframe
    position: absolute
    z-index: 1
    top: 0
    left: 0
    width: 100%
    height: 100%
    @extend %box-shadow

// RANGE INPUT STYLING
input[type=range]
  position: relative
  z-index: 1
  -webkit-appearance: none
  width: 100%

  &:focus
    outline: none
  &::-webkit-slider-runnable-track
    width: 100%
    height: 5px
    cursor: pointer
    box-shadow: 0 0 0 $black
    border-radius: 1px
    border: 0 solid $black

  &::-webkit-slider-thumb
    box-shadow: 0 0 0 $black
    height: 20px
    width: 20px
    border-radius: 10px
    cursor: pointer
    -webkit-appearance: none
    margin-top: -7.5px

  &::-moz-range-track
    width: 100%
    height: 5px
    cursor: pointer
    box-shadow: 0 0 0 $black
    border-radius: 1px
    border: 0 solid $black

  &::-moz-range-thumb
    box-shadow: 0 0 0 $black
    height: 20px
    width: 20px
    border-radius: 10px
    cursor: pointer

  &::-ms-track
    width: 100%
    height: 5px
    cursor: pointer
    background: transparent
    border-color: transparent
    color: transparent

  &::-ms-fill-lower
    border: 0 solid $black
    border-radius: 2px
    box-shadow: 0 0 0 $black

  &::-ms-fill-upper
    border: 0 solid $black
    border-radius: 2px
    box-shadow: 0 0 0 $black

  &::-ms-thumb
    margin-top: 1px
    box-shadow: 0 0 0 $black
    height: 20px
    width: 20px
    border-radius: 10px
    cursor: pointer

// PLAYER
.player-wrapper
  .player
    margin: 0 auto
    margin-bottom: 5em
    max-width: 35em

    // SCROLLBAR
    ::-webkit-scrollbar
      width: 0.3em
    ::-webkit-scrollbar-track
      -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3)
    ::-webkit-scrollbar-thumb
      background-color: darkgrey
      outline: 1px solid slategrey

    // PLAYLIST SELECT
    .playlist-select
      display: flex
      justify-content: space-between
      flex-wrap: wrap
      overflow: hidden
      margin: 0 auto
      max-width: 25em
      font-family: $secondary-font

      div
        position: relative
        z-index: 1
        cursor: pointer
        display: inline-block
        width: 50%
        text-align: center
        color: $grey
        font-size: 2.4em
        line-height: 1.5em
        +animate(0.2s)

        &:hover
          color: $black

        &.old-songs-select
          cursor: pointer
          margin: 0 auto
          padding-bottom: .5em
          width: 100%
          font-family: $primary-font
          font-weight: bold
          font-size: 1em

    // PLAYLIST
    .playlist
      position: relative
      z-index: 1
      max-width: 30em
      min-height: 20em
      max-height: 45vh
      margin: 0 auto
      margin-bottom: 2em
      overflow-x: hidden
      overflow-y: auto
      border-top: 2px solid $grey
      border-bottom: 2px solid $grey

      .amplitude-song-container
        display: flex
        justify-content: space-between
        cursor: pointer
        padding: 0.5em 0
        padding-right: 1em
        color: $grey
        line-height: 1em
        border-bottom: 1px solid $grey
        @extend %ripple

        &:hover,
        &.amplitude-active-song-container
          font-weight: bold
        &:hover
          color: $black

        &.amplitude-active-song-container
          &.dynamic-color
            .song-info
              .song-thumbnail
                .activity
                  +animation-prefix(background-image, 0.2s)
                  position: absolute
                  top: 50%
                  left: 50%
                  transform: translate(-50%, -50%)
                  height: 80%
                  width: 80%
                  -webkit-mask-size: 100%
                  mask-size: 100%
                  -webkit-mask-repeat: no-repeat
                  mask-repeat: no-repeat
                  background-color: rgba(0, 0, 0, 0.0)

        .song-info
          display: flex
          .song-thumbnail
            display: inline-block
            position: relative
            height: 3em
            width: 3em
            margin-right: 1em
            img
              width: 100%
              border-radius: .2em
              @extend %box-shadow
          .song-title
            display: inline-block
            align-self: center
        .duration
          font-size: 0.8em
          align-self: center

    .player-bottom
      display: flex
      justify-content: center

      // META CONTAINER
      .meta-container
        max-width: 5em

        .player-meta-container
          height: 100%
          width: 100%
          max-height: 5em
          max-width: 5em
          position: relative
          z-index: 1
          text-align: center
          background-repeat: no-repeat
          background-size: cover
          background-position: center
          border-radius: .3em
          @extend %box-shadow

        .player-meta-container-song
          .now-playing-name
            display: block
            color: $black
            font-family: $secondary-font
            font-size: 1.2em

          .now-playing-artist
            color: $black
            font-size: 1.1em
            opacity: 0.7

      // CONTROLS CONTAINER
      .player-controls-container
        width: 70%

        // TIME CONTAINER
        .player-time-container
          display: flex
          align-items: center

          .current-time,
          .duration
            margin: 0 .5em
            line-height: 50px
            color: $grey
            font-weight: bold

          .progress-container
            display: flex
            width: 100%

        // CONTROLS CONTAINER
        .player-control-container
          display: flex
          justify-content: space-evenly
          margin: 0 auto
          width: 100%

          %icon-size
            -webkit-mask-size: 40px
            mask-size: 40px
            width: 40px
            height: 40px

          %smaller-icon-size
            -webkit-mask-size: 30px
            mask-size: 30px
            width: 30px
            height: 30px

          // CENTRAL CONTROLS CONTAINER
          .player-central-control-container
            display: flex
            justify-content: center
            align-items: center
            flex-flow: row wrap

            .player-central-controls
              display: flex
              justify-content: center
              align-items: center

              div
                position: relative
                z-index: 1
                display: inline-block
                margin: 0 .25em
                cursor: pointer
                @extend %icon-size
                +animate(0.2s)

                &.amplitude-prev
                  @extend %smaller-icon-size
                &.amplitude-next
                  @extend %smaller-icon-size

/* Sound Wave Animation */
.sound-wave
  width: 100%
  height: 100%
  position: absolute

  .sound-wave-bar
    background: #E20074
    bottom: 1px
    height: 2%
    position: absolute
    width: 10%
    animation: sound 0ms -800ms linear infinite alternate

    &:nth-child(1)
      left: 0
      animation-duration: 474ms
    &:nth-child(2)
      left: 10%
      animation-duration: 433ms
    &:nth-child(3)
      left: 20%
      animation-duration: 407ms
    &:nth-child(4)
      left: 30%
      animation-duration: 458ms
    &:nth-child(5)
      left: 40%
      animation-duration: 400ms
    &:nth-child(6)
      left: 50%
      animation-duration: 427ms
    &:nth-child(7)
      left: 60%
      animation-duration: 441ms
    &:nth-child(8)
      left: 70%
      animation-duration: 419ms
    &:nth-child(9)
      left: 80%
      animation-duration: 487ms
    &:nth-child(10)
      left: 90%
      animation-duration: 442ms

@keyframes sound
    0%
      opacity: .35
      height: 5%
    33%
      opacity: .65
    66%
      opacity: .8
    100%
      opacity: 1
      height: 35%