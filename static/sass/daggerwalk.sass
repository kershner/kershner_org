// Variables
$color-loading-border: rgba(255, 255, 255, 0.3)
$color-highlight: #F2E530
$error: #ff6b6b

$primary-font-family: Helvetica, Arial, sans-serif
$secondary-font-family: Georgia, serif
  
body 
  margin: 0
  padding: 0
  background: #000
  font-family: $primary-font-family
  color: #FFF

.text-highlight
  color: $color-highlight

.view-container 
  position: relative
  display: flex
  flex-direction: column

  .view-title
    font-family: $secondary-font-family
    color: #FFF
    margin: 0.5rem
    margin-left: 1rem

.map-container 
  position: relative
  top: 3px
  overflow: hidden

#worldMap 
  width: 100%
  height: 100%
  object-fit: contain

#regionMap 
  width: 100%
  height: auto
  object-fit: contain
  cursor: pointer

canvas 
  position: absolute
  top: 0
  left: 0
  pointer-events: none

.hidden 
  display: none !important

.loading
  display: flex
  align-items: center
  justify-content: center
  min-height: 40vh
  padding: 1rem
  border-radius: 0.5rem

  .spinner
    width: 5rem
    height: 5rem
    border: 0.1875rem solid $color-loading-border
    border-top-color: $color-highlight
    border-radius: 50%
    animation: spin 1s linear infinite

@keyframes spin
  to
    transform: rotate(360deg)

.error 
  color: $error

// Marker base styles
%marker-base
  position: absolute
  transform: translate(-50%, -50%)
  pointer-events: none

// Mixin for pulse animation
@mixin pulse-animation($scale: 1.5, $opacity: 1.0, $duration: 1.5s)
  animation: pulse $duration infinite ease-in-out

  @keyframes pulse
    0%
      transform: translate(-50%, -50%) scale(1)
    50%
      transform: translate(-50%, -50%) scale($scale)
    100%
      transform: translate(-50%, -50%) scale(1)

// Styles for regional and world map markers
%marker-base
  position: absolute
  transform: translate(-50%, -50%)

// Mixin for pulse animation
@mixin pulse-animation($scale: 1.5, $opacity: 1.0, $duration: 1.5s)
  animation: pulse $duration infinite ease-in-out

  @keyframes pulse
    0%
      transform: translate(-50%, -50%) scale(1)
    50%
      transform: translate(-50%, -50%) scale($scale)
    100%
      transform: translate(-50%, -50%) scale(1)

// Styles for regional and world map markers
$marker-size: 6px
$marker-recent-size: 16px
$marker-world-size: 24px

.log-marker, .world-marker
  @extend %marker-base

.log-marker
  width: $marker-size
  height: $marker-size
  border-radius: 50%
  background-color: $color-highlight
  cursor: pointer
  pointer-events: auto

  &:hover
    width: $marker-recent-size
    height: $marker-recent-size

  &.recent
    width: $marker-recent-size
    height: $marker-recent-size
    @include pulse-animation

.world-marker
  height: $marker-world-size
  width: $marker-world-size
  border: 1px solid white
  border-radius: 50%

  &.recent
    @include pulse-animation($scale: 1.7, $opacity: 0.5)

.title
  font-family: $secondary-font-family
  color: $color-highlight
  display: inline-block
  padding-left: 1rem

.tabs
  input
    display: none

  label
    padding: 10px 14px
    cursor: pointer
    display: inline-block
    position: relative
    z-index: 1

    &::after
      content: ''
      display: block
      width: 0
      height: 0.3rem
      background: $color-highlight
      position: absolute
      bottom: -0.3rem
      left: 50%
      transform: translateX(-50%)

    &[data-tab="1"]
      margin-left: 1rem

  .tab-content
    display: none
    padding-top: 1rem

  // "Selected" styles
  @for $i from 1 through 3
    // tab label
    input:nth-of-type(#{$i}):checked ~ label:nth-of-type(#{$i})
      font-weight: bold
      color: #fff

      &::after
        width: 100%

    // tab content
    input:nth-of-type(#{$i}):checked ~ .tab-content:nth-of-type(#{$i})
      display: block

#twitch-container 
  position: relative
  width: 100%
  padding-top: 56.25%
  
  #twitch-embed
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%

.current-status
  padding: 1rem
  border-top: 0.2rem solid $color-highlight
  
  h2
    margin: 0
    font-family: $secondary-font-family
    color: $color-highlight

  p
    margin: 0

  .time-string
    display: block
    font-size: 1.2rem
    font-weight: bold

.tooltip
  position: fixed
  background: #000
  color: #fff
  padding: 0.25rem 1rem
  min-width: 12rem
  border-radius: 0.25rem
  border: 0.15rem solid $color-highlight
  transform: translate(-50%, -100%)
  opacity: 0
  font-size: 0.8rem

  &:after
    content: ''
    position: absolute
    bottom: -12px
    left: 50%
    transform: translateX(-50%)
    border-left: 12px solid transparent
    border-right: 12px solid transparent
    border-top: 12px solid $color-highlight
  
  &.visible
    opacity: 1
    z-index: 10

  .row
    display: flex
    gap: 10px
    margin: 0.25rem 0

    &:last-of-type
      border-bottom: none
    
    .key
      font-weight: bold
      width: 40%

    .value
      width: 60%

.about-tabs
  h4
    margin: 1rem 0
    font-size: 1rem
    padding-left: 0.5rem
    border-left: 0.3rem solid $color-highlight

  ul
    margin: 0.5rem 0
  
  .tab-content
    padding: 0.5rem 1rem
    max-width: 50rem

  .about-img
    border: 0.2rem solid $color-highlight
    margin: 1rem 0
    max-width: 30rem
    border-radius: 0.25rem

    img
      width: 100%

$alternate-table-color: lighten(#000, 10)
.styled-table
  width: 100%
  border-collapse: collapse
  th, td
    padding: 10px
    text-align: left
  th
    border-bottom: 0.2rem solid $color-highlight
  tr:nth-child(even)
    background: $alternate-table-color
  tr:hover
    background: $alternate-table-color

.commands-table
  td:first-of-type
    font-weight: bold

blockquote
  padding: 1rem
  border-left: 0.3rem solid $color-highlight
  border-radius: 0 0.2rem 0.2rem 0
  background: $alternate-table-color
  margin: 1rem 0
  width: fit-content

  p
    margin: 0
    font-family: $secondary-font-family

  cite
    display: block
    margin-top: 0.5rem
    font-size: 0.9rem
    font-style: italic

details
  margin-bottom: 3rem

summary
  font-weight: bold
  cursor: pointer
  font-size: 1.75rem
  font-family: $secondary-font-family

  &:hover,
  &::marker
    color: $color-highlight

