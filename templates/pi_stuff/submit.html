{% extends "pi_stuff/base.html" %}

{% block extra_meta %}
  <meta property="og:title" content="Send video to the Pi Display">
  <meta name="description" content="Send YouTube video to the Pi Display.">
{% endblock %}

{% block title %}Send video to the Pi Display{% endblock %}

{% block body_class %}submit-page{% endblock %}

{% block content %}
  <div class="submit-container">
    <h2 class="submit-title">Send video to the Pi Display</h2>

    <form id="f" class="submit-form">
      <div class="search-wrapper">
        <input
          id="search-input"
          class="submit-input"
          name="url"
          type="search"
          placeholder="Search YouTube or paste URL..."
          autocomplete="off"
          required>
        <div id="autocomplete-dropdown" class="autocomplete-dropdown hidden"></div>
      </div>
      <input type="hidden" name="token" value="{{ token }}">
      <input type="hidden" name="device_id" value="{{ device_id }}">
      <button class="submit-button" type="submit">Send to Display</button>
    </form>
  </div>
{% endblock %}

{% block window_vars %}
  window.API_PLAY_URL = "{{ api_play_url }}";
  window.SUBMIT_TOKEN = "{{ token }}";
  window.SUBMIT_DEVICE_ID = "{{ device_id }}";
  window.YOUTUBE_SEARCH_URL = "{{ youtube_search_url }}";
{% endblock %}

{% block js_init %}
  SubmitForm.init();
{% endblock %}